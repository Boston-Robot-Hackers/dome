launch:
  - include:
      file: "$(find-pkg-share linorobot2_bringup)/launch/bringup.launch.py"
      arg:
        - name: base_serial_port
          value: "/dev/esp32"
        - name: micro_ros_baudrate
          value: "921600"
        - name: madgwick
          value: "false"
        - name: orientation_stddev
          value: "0.01"
        - name: madgwick_imu_topic
          value: '/imu/corrected_data'
        - name: joy
          value: "false"
        - name: ekf_config_path
          value: "$(find-pkg-share dome)/config/ekf.yaml"

# Static transform publishers for robot TF tree
# Args format: x y z yaw pitch roll parent_frame child_frame
# Distances in meters, angles in radians

  # base_link is 5cm above base_footprint (ground contact point)
  - node:
      pkg: tf2_ros
      exec: static_transform_publisher
      name: base_link_to_base_footprint
      args: '0 0 0.05 0 0 0 base_link base_footprint'

  # imu_link is co-located with base_link (no offset)
  - node:
      pkg: tf2_ros
      exec: static_transform_publisher
      name: base_link_to_imu
      args: '0 0 0 0 0 0 base_link imu'

  # lidar_link is 5cm above base_link (10cm above base_footprint)
  - node:
      pkg: tf2_ros
      exec: static_transform_publisher
      name: base_link_to_lidar
      args: '0 0 0.05 0 0 0 base_link laser'
